

particlesJS(
		"particles-js1", 
		{
			"particles":
			{
				"number":{"value":150,"density":{"enable":true,"value_area":1000}},
				"color":{"value":"#ffffff"},
				"shape":{"type":"circle","stroke":{"width":1,"color":"#ffffff"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":100,"height":100}},
				"opacity":{"value":0.5,"random":false,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},
				"size":{"value":3,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},
				"line_linked":{"enable":true,"distance":80,"color":"#ffffff","opacity":0.4,"width":1},
				"move":{"enable":true,"speed":1,"direction":"none","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}
			},
			"interactivity":
			{
				"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"bubble"},"onclick":{"enable":true,"mode":"push"},"resize":true},
				"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":74.27764985515863,"size":4,"duration":2,"opacity":10,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":4},"remove":{"particles_nb":2}}
			},
			"retina_detect":true
		});

particlesJS(
		"particles-js2", 
		{
			"particles":
			{
				"number":{"value":80,"density":{"enable":true,"value_area":875}},
				"color":{"value":"#ffffff"},
				"shape":{"type":"circle","stroke":{"width":1,"color":"#ffffff"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":100,"height":100}},
				"opacity":{"value":1,"random":false,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},
				"size":{"value":5,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},
				"line_linked":{"enable":true,"distance":120,"color":"#ffffff","opacity":0.8,"width":3},
				"move":{"enable":true,"speed":1,"direction":"none","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}
			},
			"interactivity":
			{
				"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"bubble"},"onclick":{"enable":true,"mode":"push"},"resize":true},
				"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":74.27764985515863,"size":4,"duration":2,"opacity":10,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":3},"remove":{"particles_nb":2}}
			},
			"retina_detect":true
		});

particlesJS(
		"particles-js4", 
		{
			"particles":
			{
				"number":{"value":150,"density":{"enable":true,"value_area":1000}},
				"color":{"value":"#ffffff"},
				"shape":{"type":"circle","stroke":{"width":1,"color":"#ffffff"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":100,"height":100}},
				"opacity":{"value":0.5,"random":false,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},
				"size":{"value":3,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},
				"line_linked":{"enable":true,"distance":80,"color":"#ffffff","opacity":0.4,"width":1},
				"move":{"enable":true,"speed":1,"direction":"none","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}
			},
			"interactivity":
			{
				"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"bubble"},"onclick":{"enable":true,"mode":"push"},"resize":true},
				"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":74.27764985515863,"size":4,"duration":2,"opacity":10,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":3},"remove":{"particles_nb":2}}
			},
			"retina_detect":true
		});

particlesJS(
		"particles-js3", 
		{
			"particles":
			{
				"number":{"value":80,"density":{"enable":true,"value_area":875}},
				"color":{"value":"#ffffff"},
				"shape":{"type":"circle","stroke":{"width":1,"color":"#ffffff"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":100,"height":100}},
				"opacity":{"value":1,"random":false,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},
				"size":{"value":5,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},
				"line_linked":{"enable":true,"distance":120,"color":"#ffffff","opacity":0.8,"width":3},
				"move":{"enable":true,"speed":1,"direction":"none","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}
			},
			"interactivity":
			{
				"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"bubble"},"onclick":{"enable":true,"mode":"push"},"resize":true},
				"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":74.27764985515863,"size":4,"duration":2,"opacity":10,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":4},"remove":{"particles_nb":2}}
			},
			"retina_detect":true
		});
particlesJS(
		"particles-js6", 
		{
			"particles":
			{
				"number":{"value":150,"density":{"enable":true,"value_area":1000}},
				"color":{"value":"#ffffff"},
				"shape":{"type":"circle","stroke":{"width":1,"color":"#ffffff"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":100,"height":100}},
				"opacity":{"value":0.5,"random":false,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},
				"size":{"value":3,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},
				"line_linked":{"enable":true,"distance":80,"color":"#ffffff","opacity":0.4,"width":1},
				"move":{"enable":true,"speed":1,"direction":"none","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}
			},
			"interactivity":
			{
				"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"bubble"},"onclick":{"enable":true,"mode":"push"},"resize":true},
				"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":74.27764985515863,"size":4,"duration":2,"opacity":10,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":3},"remove":{"particles_nb":2}}
			},
			"retina_detect":true
		});

particlesJS(
		"particles-js5", 
		{
			"particles":
			{
				"number":{"value":80,"density":{"enable":true,"value_area":875}},
				"color":{"value":"#ffffff"},
				"shape":{"type":"circle","stroke":{"width":1,"color":"#ffffff"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":100,"height":100}},
				"opacity":{"value":1,"random":false,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},
				"size":{"value":5,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},
				"line_linked":{"enable":true,"distance":120,"color":"#ffffff","opacity":0.8,"width":3},
				"move":{"enable":true,"speed":1,"direction":"none","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}
			},
			"interactivity":
			{
				"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"bubble"},"onclick":{"enable":true,"mode":"push"},"resize":true},
				"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":74.27764985515863,"size":4,"duration":2,"opacity":10,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":4},"remove":{"particles_nb":2}}
			},
			"retina_detect":true
		});


var allInteractionArray = '',
	allProteinArray = '',
	Layout = '',
	currentProteinArray = '',
	currentInteractionArray = '',
	SearchResultsJSON = '',	
	cy = '';
	

SearchResultsJSON = sendDataRequestQuery();

allInteractionArray = SearchResultsJSON['all_interactions'];
allProteinArray = SearchResultsJSON['all_proteins'];
queryProteinIdArray = SearchResultsJSON['query_protein_id_array'];

console.log(queryProteinIdArray);
Layout = 'cola';
currentProteinArray = allProteinArray;
currentInteractionArray = allInteractionArray;

	
updateCytoscapeNetwork();

$("#refresh_cy").on('click', function(){

	query_protein = getQueryProtein();
	SearchResultsJSON = sendDataRequestQuery(query_protein);
	allInteractionArray = SearchResultsJSON['all_interactions'];
	allProteinArray = SearchResultsJSON['all_proteins'];
	queryProteinIdArray = SearchResultsJSON['query_protein_id_array'];
	Layout = 'cola';
	currentProteinArray = allProteinArray;
	currentInteractionArray = allInteractionArray;
	cy = '';	
	updateCytoscapeNetwork();
	
	
});



function getQueryProtein(){	
	var proteins = ["UBE2V1","GSTO2","ZSCAN16","IMP3","ZYX","ZNF547","NMU","TBC1D3B","RIC8A","ZNF512B","MITD1","BOLA1","USP25","KIAA0907","TACO1","ZNF639","SFMBT1","PATL1","DHX15","RBM17","KRT74","KRT2","TSSC4","ZBTB33","VHL","MPPED2","UBL4A","LSM1","LSM3","TUFM","SSBP3","RNF20","ENPP7","RPL22","GOLGA6L2","SMAP2","ADAMTSL3","PPIB","RAPGEF3","POP5","USO1","CFHR5","CTAGE5","FKBP1A","ZSCAN18","PTS","SLC6A20","CETN3","PBX1","HNRNPCL1","LCOR","S100A1","SPDYE4","ATP5O","CCDC28B","ZNF341","CDK4","CCND3","ZNF503","ZNF337","GDAP1","CIAO1","CBSL","CBS","GCA","ZNF114","CCNG1","ZNF558","WASF1","CXCR2","C11orf68","PTPRN","TIMM23","CDK6","ZNF266","CALN1","ZNF232","ARNT2","NIPAL4","TRIM26","MRM3","PSPC1","SKA1","DUSP4","ZNF80","MAP1LC3B","ERCC3","MS4A4A","MYDGF","FST","CLNS1A","MCMBP","NGB","USP15","MAB21L2","ABT1","PELO","SORT1","HOXC9","MAGEA8","gene_name","HDX","SAPCD2","SMOC1","TRIM10","KRT32","ACY1","ARL6IP4","INPP5K","MAD2L1BP","SBK3","ZSCAN26","ESM1","ANKHD1","FAM221B","TRAF3IP2","CD68","ANKRD28","HOXD12","CLDN4","SH3GLB2","CCDC158","SLC22A23","LARP4","PLEKHA2","WWP1","BAIAP2L2","PCBP3","STK3","CD302","OOEP","PDCD6","APEX2","HBA1","UBA52","CAGE1","TTC25","HNF1B","AK8","COL4A3BP","SNRPF","CRLF3","TADA3","SLC25A6","SCYL1","KRTAP22-1","KCNF1","STRA8","HPRT1","JUP","SENP2","HSPD1","CCT3","CCER1","KCTD10","C3orf62","MVP","NGLY1","SLC14A2","NELFA","IER3","FAM118A","DDX17","ZNF578","TFAP4","PSMB5","TNR","PACRGL","HOXB2","SLC31A2","SETBP1","APOA5","NUDT14","ZBTB22","SLC25A48","RNF40","PKNOX1","NAXD","LRRC73","PROSER3","NDUFB11","MEAF6","ID3","KCTD21","LAPTM4B","TNFAIP3","PRC1","LGALS4","PTH1R","TSPAN18","ASZ1","CLRN2","EXOC4","ZG16","KCNIP3","MAGOH","PKD2","TAP1","CFL2","FLYWCH1","RNF115","gene_name","ZNF77","NICN1","ERH","SIVA1","CD69","JADE2","PMF1","CCDC106","LNP","HAT1","CES1","RTL8B","P2RY6","FAM46D","KIF24","HOXB6","PRAP1","MATR3","RORB","NLK","HDDC3","PIM1","SUMO3","RNF41","CCDC92","RING1","CBY1","MATR3","AOC1","ZC2HC1A","KLK8","ALKBH4","MIC13","RMDN2","SAP30BP","KRT82","OAZ3","UBE2Z","TEX9","ARHGEF9","SLC25A10","TBC1D30","RNF24","ADAM15","CDK5R1","TSFM","SERPINE1","POF1B","TINAGL1","NKD1"];
	var index = Math.floor(Math.random() * (250 - 1 + 1)) + 1;
	var query_protein = proteins[index];
	return query_protein;
}


function createCytoscapeNetwork(cytoscapeJSON){
	
	cy = cytoscape({	
		container: document.getElementById('cy'),
	  	elements: cytoscapeJSON,
	  	userZoomingEnabled: false,
	  	style: [{
 				selector: '.nodes',
 				css:{
                     'content': 'data(gene_name)',
                     'text-valign': 'center',
                     'color': 'white',
                     'text-outline-width': 1.1,
                     'font-weight': 'bold',
                     'padding-top': '10px',
                     'padding-left': '10px',
                     'padding-bottom': '10px',
                     'padding-right': '10px',
                     'background-color': '#3c78d8'
     			}},{
 				selector: '.has_domain',
 				css:{
                     'content': 'data(gene_name)',
                     'text-valign': 'top',
     			}},{
				selector: '.domains',
				css:{
                 'content': 'data(type)',
                 'text-valign': 'center',
                 'color': 'white',
                 'text-outline-width': 2,
                 'padding-top': '10px',
                 'padding-left': '10px',
                 'padding-bottom': '10px',
                 'padding-right': '10px',
                 'background-color': '#CCCCCC'
 			   }},{
             	selector: '.edge',
             	css:{
             	  'line-color' : '#AAAAAA'
             	}}]
	});

	var layoutRun =  cy.layout({ 
		name: Layout,
		avoidOverlap: true,
		equidistant: true,
		minNodeSpacing: 50,
		maxSimulationTime: 8000,
 		randomize: true,
 		fit: true,
	 		nodeRepulsion       : 10000,
 	 		nodeOverlap         : 100,

	});
	layoutRun.run();

	setQueryNodeColor(cy);
	cy.minZoom(0.1);
	return cy;
}

function createCytoscapeJSON(){
	
	var nodesJSON = new Object();
	var edgesJSON = new Object();
	
	nodesJSON = [];
	edgesJSON = [];

 	for (i = 0; i < currentProteinArray.length; ++i) {
 		
 		var proteinId = currentProteinArray[i].protein_id;
 		var proteinName = currentProteinArray[i].protein_uniprot_id;
 		var uniprotId = currentProteinArray[i].protein_uniprot_id;
 		var ensemblId = currentProteinArray[i].protein_ensembl_id;
 		var entrezId = currentProteinArray[i].protein_entrez_id;
 		var geneName = currentProteinArray[i].protein_gene_name;

 		nodesJSON.push({id: proteinId, group: "nodes",data: { id: proteinId, name: geneName, uniprot_id: uniprotId, ensembl_id: ensemblId, entrez_id: entrezId, protein_name: proteinName, gene_name: geneName, query: 'non-query'}, classes: "nodes"},); 		
 	}
 	
 	for (i = 0; i <  currentInteractionArray.length; ++i) {
 		var interactionId = currentInteractionArray[i]['interaction_id']
 		var sourceProteinId = currentInteractionArray[i]['interactor_A']['protein_id'];
 		var sourceProteinName = currentInteractionArray[i]['interactor_A']['protein_uniprot_id'];
 		var sourceProteinGeneName = currentInteractionArray[i]['interactor_A']['protein_gene_name'];
 		var targetProteinId = currentInteractionArray[i]['interactor_B']['protein_id'];
 		var targetProteinName = currentInteractionArray[i]['interactor_B']['protein_uniprot_id'];
 		var targetProteinGeneName = currentInteractionArray[i]['interactor_B']['protein_gene_name'];
 		var scoreData = currentInteractionArray[i]['score'];
 		var annotationArray = currentInteractionArray[i]['annotation_array'];
		var highestCategoryStatus = currentInteractionArray[i]['interaction_category_array']['highest_category_status'];
 		var sourceNodeId = sourceProteinId;
 		var lineColor = "#6aa84f";
 		
 		var targetNodeId = targetProteinId;
 		var edgeID = sourceProteinId + "_" + targetProteinId;

 		edgesJSON.push({
			group: "edges",
			data: { id: edgeID, name: sourceProteinGeneName + ' - ' + targetProteinGeneName, source: sourceNodeId, target: targetNodeId, interaction: sourceProteinGeneName + ' - ' + targetProteinGeneName, score: scoreData, annotation_array: annotationArray, highest_category_status: highestCategoryStatus},
			style: { "line-color": lineColor, 'width': 3},		
 		});
 		
 	}
 	
 	var cytoscapeJSON = nodesJSON.concat(edgesJSON);

	return cytoscapeJSON;
}






function updateCytoscapeNetwork(){	
	var cytoscapeJSON = createCytoscapeJSON();
	cy = createCytoscapeNetwork(cytoscapeJSON);	
	return cy;
}

function sendDataRequestQuery(query_protein){	
	SearchResultsJSON = '';	
	var query_protein = getQueryProtein();
	var search_term = query_protein;
	var search_term_array = [query_protein];
	console.log(search_term);
	$.ajax({
	    type: "GET",
	    url:  Url + "app.php/search_results_interactions",
	    data: {
	        
			'query_interactor' : 'query',
			'page' : 'results',
			'query_id_array' : "",
			'search_term_parameter' : search_term,
			'filter_parameter' : "None",
			'search_term_array' : search_term_array
			
	        },
	    crossDomain: true,
	    dataType: 'json',
	    async: false, 
		success:function(result){
			console.log('hh');
	        SearchResultsJSON = JSON.parse(result);
	        console.log(SearchResultsJSON);
	    }
	});
	return SearchResultsJSON;	
}


function setQueryNodeColor(cy){
	for (i = 0; i < queryProteinIdArray.length; ++i) {

		var queryProteinId = queryProteinIdArray[i];
		var selectID = '#' + queryProteinId;	
		cy.$(selectID).style({'background-color': "#cc0000" });
		cy.$(selectID).data({'query' : 'query'});
	}
}

$("#workflow_A").qtip({
    content:
		function(){ 

			var returnVar = $('.wrokflow_A_qtip').html();
			return returnVar;
			
	},
	position: {
		my: 'center center',
		at: 'center center'
	},
	style: {
		classes: 'qtip-bootstrap',
		width: '400px',
		tip: {
			width: 10,
			height: 8
		}
	},
    show: 'click',
    hide: 'unfocus'
});

$("#workflow_B").qtip({
    content:
		function(){ 

			var returnVar = $('.wrokflow_B_qtip').html();
			return returnVar;
			
	},
	position: {
		my: 'center center',
		at: 'center center'
	},
	style: {
		classes: 'qtip-bootstrap',
		width: '400px',
		tip: {
			width: 10,
			height: 8
		}
	},
    show: 'click',
    hide: 'unfocus'
});

$("#workflow_C").qtip({
    content:
		function(){ 

			var returnVar = $('.wrokflow_C_qtip').html();
			return returnVar;
			
	},
	position: {
		my: 'center center',
		at: 'center center'
	},
	style: {
		classes: 'qtip-bootstrap',
		width: '400px',
		tip: {
			width: 10,
			height: 8
		}
	},
    show: 'click',
    hide: 'unfocus'
});

$("#workflow_D").qtip({
    content:
		function(){ 

			var returnVar = $('.wrokflow_D_qtip').html();
			return returnVar;
			
	},
	position: {
		my: 'center center',
		at: 'center center'
	},
	style: {
		classes: 'qtip-bootstrap',
		width: '400px',
		tip: {
			width: 10,
			height: 8
		}
	},
    show: 'click',
    hide: 'unfocus'
});

$("#workflow_E").qtip({
    content:
		function(){ 

			var returnVar = $('.wrokflow_E_qtip').html();
			return returnVar;
			
	},
	position: {
		my: 'center center',
		at: 'center center'
	},
	style: {
		classes: 'qtip-bootstrap',
		width: '400px',
		tip: {
			width: 10,
			height: 8
		}
	},
    show: 'click',
    hide: 'unfocus'
});

$("#workflow_F").qtip({
    content:
		function(){ 

			var returnVar = $('.wrokflow_F_qtip').html();
			return returnVar;
			
	},
	position: {
		my: 'center center',
		at: 'center center'
	},
	style: {
		classes: 'qtip-bootstrap',
		width: '400px',
		tip: {
			width: 10,
			height: 8
		}
	},
    show: 'click',
    hide: 'unfocus'
});





cy2 = cytoscape({	
	container: document.getElementById('cy2'),
	
  	elements: {
  	    nodes: [
  	      { data: { id: 'gene_mania', name: 'Gene Mania' } },
  	      { data: { id: 'pathway_commons', name: "Pathway\nCommons" } },
  	      { data: { id: 'string', name: 'STRING' } },
  	      { data: { id: 'intact', name: 'IntAct' } }
  	    ],
  	    edges: [
  	    	{ data: { source: 'gene_mania', target: 'pathway_commons' } },
	  	    { data: { source: 'string', target: 'pathway_commons' } },
		  	{ data: { source: 'intact', target: 'pathway_commons' } },
		  	{ data: { source: 'string', target: 'intact' } },
		  	{ data: { source: 'string', target: 'gene_mania' } },
		  	{ data: { source: 'intact', target: 'gene_mania' } },
  	    ]
  	},
  	userZoomingEnabled: false,
  	userPanningEnabled: false,
  	boxSelectionEnabled: false,
  	autounselectify: true,
  	
  	 style: cytoscape.stylesheet()
     .selector('node')
       .css({
         'height': 40,
         'width': 40,
         'content': 'data(name)',
         'text-valign': 'top',
         'text-wrap': 'wrap',
         'color': 'white',
         'background-color': '#ffffff',
         'background-fit': 'cover',
         'border-color': '#ffffff',
         'border-width': 3,
         'border-opacity': 0.5
       })
     .selector('edge')
       .css({
         'curve-style': 'bezier',
         'width': 6,
         'line-color': '#ffaaaa',
         'opacity': 0
       })
     .selector('#gene_mania')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/gene_mania.png'
       })
     .selector('#pathway_commons')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/pathway_commons.png'
       })
     .selector('#string')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/string.png'
       })
   .selector('#intact')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/ebi.png'
       }),
});

cy2.nodes().ungrabify();

var layoutRun2 =  cy2.layout({ 
	name: 'cose',
	avoidOverlap: true,
	equidistant: true,
	minNodeSpacing: 50,
	maxSimulationTime: 8000,
		randomize: true,
		fit: true,
 		nodeRepulsion       : 100,
	 		nodeOverlap         : 100,

});
layoutRun2.run();



cy3 = cytoscape({	
	container: document.getElementById('cy3'),
	
  	elements: {
  	    nodes: [
  	      { data: { id: 'reactome', name: 'Reactome' } },
  	      { data: { id: 'gprofiler', name: 'gProfiler' } },
  	      { data: { id: 'david', name: 'DAVID' } },
  	      { data: { id: 'cbioportal', name: 'cBioPortal' } }
  	    ],
  	    edges: [
  	    	{ data: { source: 'reactome', target: 'gprofiler' } },
	  	    { data: { source: 'david', target: 'gprofiler' } },
		  	{ data: { source: 'cbioportal', target: 'gprofiler' } },
		  	{ data: { source: 'david', target: 'cbioportal' } },
		  	{ data: { source: 'david', target: 'reactome' } },
		  	{ data: { source: 'cbioportal', target: 'reactome' } },
  	    ]
  	},
  	userZoomingEnabled: false,
  	userPanningEnabled: false,
  	boxSelectionEnabled: false,
  	autounselectify: true,
  	 style: cytoscape.stylesheet()
     .selector('node')
       .css({
         'height': 40,
         'width': 40,
         'content': 'data(name)',
         'text-valign': 'top',
         'color': 'white',
         'background-color': '#ffffff',
         'background-fit': 'cover',
         'border-color': '#ffffff',
         'border-width': 3,
         'border-opacity': 0.5
       })
     .selector('edge')
       .css({
         'curve-style': 'bezier',
         'width': 6,
         'line-color': '#ffaaaa',
         'opacity': 0
       })
     .selector('#reactome')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/reactome.png'
       })
     .selector('#gprofiler')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/gprofiler.png'
       })
     .selector('#david')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/david.png'
       })
   .selector('#intact')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/cbioportal.png'
       }),
});
cy3.nodes().ungrabify();
var layoutRun3 =  cy3.layout({ 
	name: 'cose',
	avoidOverlap: true,
	equidistant: true,
	minNodeSpacing: 50,
	maxSimulationTime: 8000,
		randomize: true,
		fit: true,
 		nodeRepulsion       : 10000,
	 		nodeOverlap         : 100,

});
layoutRun3.run();



cy4 = cytoscape({	
	container: document.getElementById('cy4'),
	
  	elements: {
  	    nodes: [
  	      { data: { id: 'uniprot', name: 'Uniprot' } },
  	      { data: { id: 'ensembl', name: 'Ensembl' } },
  	      { data: { id: 'ncbi', name: 'NCBI' } },
  	      { data: { id: 'gene_cards', name: 'Gene Cards' } }
  	    ],
  	    edges: [
  	    	{ data: { source: 'uniprot', target: 'ensembl' } },
	  	    { data: { source: 'ncbi', target: 'ensembl' } },
		  	{ data: { source: 'gene_cards', target: 'ensembl' } },
		  	{ data: { source: 'ncbi', target: 'gene_cards' } },
		  	{ data: { source: 'ncbi', target: 'uniprot' } },
		  	{ data: { source: 'gene_cards', target: 'uniprot' } },
  	    ]
  	},
  	userZoomingEnabled: false,
  	userPanningEnabled: false,
  	boxSelectionEnabled: false,
  	autounselectify: true,
  	 style: cytoscape.stylesheet()
     .selector('node')
       .css({
         'height': 40,
         'width': 40,
         'content': 'data(name)',
         'text-valign': 'top',
         'color': 'white',
         'background-color': '#ffffff',
         'background-fit': 'cover',
         'border-color': '#ffffff',
         'border-width': 3,
         'border-opacity': 0.5
       })
     .selector('edge')
       .css({
         'curve-style': 'bezier',
         'width': 6,
         'line-color': '#ffaaaa',
         'opacity': 0
       })
     .selector('#uniprot')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/uniprot.png'
       })
     .selector('#ensembl')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/ensembl.png'
       })
     .selector('#ncbi')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/ncbi.png'
       })
   .selector('#intact')
       .css({
         'background-image': 'http://localhost/workspace/openPIP/web/assets/images/gene_cards.png'
       }),
});
cy4.nodes().ungrabify();
var layoutRun4 =  cy4.layout({ 
	name: 'cose',
	avoidOverlap: true,
	equidistant: true,
	minNodeSpacing: 10,
	maxSimulationTime: 1000,
		randomize: true,
		fit: true,
 		nodeRepulsion       : 10,
	 		nodeOverlap         : 10,

});
layoutRun4.run();

















